---
import { Picture } from "astro:assets";
import ImgAvatar from "@/assets/image.png";
import { PROFILE_INFO } from "@/lib/constants/profile";

interface Props {
  className?: string;
  size?: number;
  priority?: boolean;
}

const {
  className,
  size = 100,
  priority = false,
} = Astro.props;

const formats = ["avif", "webp"];
---

<Picture
  class:list={[className, "avatar-image"]}
  src={ImgAvatar}
  widths={[size * 2, size * 3]}
  sizes={`${size}px`}
  formats={formats}
  alt={`${PROFILE_INFO.displayName}'s avatar`}
  quality="high"
  loading={priority ? "eager" : "lazy"}
  decoding="async"
/>

<style>
  .avatar-image img {
    object-fit: cover;
    object-position: center;
  }
</style>